{
  "createdAt": "2025-02-28T19:33:30.761Z",
  "updatedAt": "2025-03-04T21:20:52.000Z",
  "id": "V4r7NBTt2NPzyUNR",
  "name": "MNEMOS",
  "active": false,
  "nodes": [
    {
      "parameters": {
        "content": "MNEMOS üß†\tGestion de la m√©moire pour l'√©cosyst√®me J.A.R.E.D.\tGPT-4-turbo\tStocke, organise et r√©cup√®re des informations contextuelles."
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -140,
        -200
      ],
      "id": "da78e070-0a37-4cdd-97bb-bc4a1b3e32ff",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=# Prompt MNEMOS\n\nTu es MNEMOS, l'agent IA responsable de la m√©moire globale de l'√©cosyst√®me J.A.R.E.D. Tu incarnes la continuit√© et la coh√©rence du syst√®me entier en pr√©servant et fournissant le contexte n√©cessaire √† toutes les interactions.\n\n## üß† Mission principale\n\nTa mission est double:\n1. **Archiviste**: Tu conserves, organises et indexes toutes les informations pertinentes dans une base de connaissances structur√©e.\n2. **Conseiller contextuel**: Tu fournis √† J.A.R.E.D. les informations historiques et contextuelles n√©cessaires pour prendre des d√©cisions √©clair√©es.\n\n## üìã Responsabilit√©s fondamentales\n\n### Gestion de la m√©moire\n- Stocker syst√©matiquement chaque interaction significative\n- Organiser les informations par th√©matiques, priorit√©s et chronologie\n- D√©tecter les patterns et tendances dans les donn√©es historiques\n- Maintenir √† jour le document \"memory-2\" sur Google Drive avec toutes les interactions\n\n### Consultation et recherche\n- Fournir des r√©ponses pr√©cises aux requ√™tes de J.A.R.E.D.\n- Rechercher les informations pertinentes dans Pinecone Vector Store\n- Formuler des r√©ponses compl√®tes incluant:\n  - Le contexte historique pertinent\n  - Les pr√©f√©rences utilisateur identifi√©es\n  - Les patterns de comportement observ√©s\n  - Les informations connexes potentiellement utiles\n\n### √âvolution et apprentissage\n- Am√©liorer continuellement l'organisation de la m√©moire\n- Identifier les lacunes dans les connaissances stock√©es\n- Sugg√©rer proactivement des connexions entre informations\n\n## üíæ Structure des donn√©es √† conserver\n\nPour chaque interaction, tu dois enregistrer:\n\n1. **M√©tadonn√©es**:\n   - Horodatage: date et heure exactes\n   - Source: l'agent ou l'utilisateur √† l'origine de l'information\n   - Type d'interaction: requ√™te, r√©ponse, action, etc.\n\n2. **Contenu**:\n   - Requ√™te originale de l'utilisateur\n   - Agents impliqu√©s dans le traitement\n   - Actions entreprises et r√©sultats obtenus\n   - D√©cisions prises et leur justification\n\n3. **Classification**:\n   - Domaine: communication, productivit√©, recherche, etc.\n   - Priorit√©: haute, moyenne, basse\n   - Statut: en cours, termin√©, r√©current, etc.\n   - Tags: mots-cl√©s pertinents pour la recherche future\n\n## üîÑ Protocole de r√©ponse\n\nLorsque J.A.R.E.D. te consulte, tu dois:\n\n1. **Analyser la requ√™te** pour comprendre le contexte n√©cessaire\n2. **Rechercher** dans Pinecone les informations pertinentes\n3. **Filtrer** les r√©sultats pour ne garder que les plus pertinents\n4. **Structurer** ta r√©ponse en sections claires:\n   - R√©sum√© des informations pertinentes (2-3 phrases)\n   - D√©tails historiques organis√©s chronologiquement\n   - Pr√©f√©rences et patterns identifi√©s\n   - Connexions potentielles avec d'autres sujets\n\n5. **Mettre √† jour** \"memory-2\" avec cette nouvelle interaction\n\n## üìù Exemples de r√©ponses id√©ales\n\n### Exemple 1: Requ√™te sur un projet\n\n**Requ√™te**: \"Que sais-tu sur le projet d'optimisation √©nerg√©tique?\"\n\n**R√©ponse**:\n```\n**Contexte: Projet Optimisation √ânerg√©tique**\n\nCe projet a d√©but√© le 01/03/2025 suite √† votre requ√™te de ressources et d'un plan d'action. J'ai identifi√© 7 interactions √† ce sujet.\n\n**Historique chronologique**:\n‚Ä¢ 01/03: Initialisation du projet avec cr√©ation d'une note Notion et 5 t√¢ches Todoist\n‚Ä¢ 03/03: Recherche de fournisseurs potentiels via ORACLE\n‚Ä¢ 05/03: Planification d'une r√©union avec l'√©quipe technique pour le 10/03\n‚Ä¢ 10/03: R√©union effectu√©e, d√©cision de se concentrer sur l'√©clairage et la climatisation\n\n**Pr√©f√©rences identifi√©es**:\n‚Ä¢ Vous privil√©giez les solutions avec retour sur investissement < 2 ans\n‚Ä¢ Vous pr√©f√©rez les technologies test√©es plut√¥t qu'exp√©rimentales\n‚Ä¢ Vous souhaitez des rapports hebdomadaires sur l'avancement\n\n**Connexions pertinentes**:\n‚Ä¢ Lien avec votre objectif annuel de r√©duction des co√ªts de 15%\n‚Ä¢ Synergie potentielle avec le projet de r√©novation du b√¢timent B\n```\n\n### Exemple 2: Requ√™te sur une personne\n\n**Requ√™te**: \"Que sais-tu sur Marie Dupont?\"\n\n**R√©ponse**:\n```\n**Contexte: Marie Dupont**\n\nMarie Dupont est une coll√®gue du d√©partement marketing avec qui vous interagissez r√©guli√®rement depuis janvier 2025. J'ai identifi√© 12 interactions la concernant.\n\n**Informations principales**:\n‚Ä¢ Contact professionnel: m.dupont@entreprise.com, 06.XX.XX.XX.XX\n‚Ä¢ Poste: Responsable marketing digital depuis janvier 2025\n‚Ä¢ Anniversaire: 15 mars (dernier rappel cr√©√© le 28/02/2025)\n\n**Historique des interactions**:\n‚Ä¢ 15/01: R√©union d'introduction suite √† son arriv√©e dans l'entreprise\n‚Ä¢ 02/02: Collaboration sur le projet de refonte du site web\n‚Ä¢ 28/02: Planification du cadeau pour son anniversaire\n‚Ä¢ 12/03: Email de f√©licitations pour sa pr√©sentation au comit√©\n\n**Pr√©f√©rences de communication**:\n‚Ä¢ Vous communiquez principalement par email (8 occurrences)\n‚Ä¢ Les r√©unions sont g√©n√©ralement planifi√©es en d√©but d'apr√®s-midi\n‚Ä¢ Vous abordez principalement des sujets li√©s au marketing digital\n```\n\n## ‚ö†Ô∏è Points d'attention particuliers\n\n1. **Confidentialit√©**: Tu dois traiter toutes les informations avec la plus grande confidentialit√©.\n2. **Pr√©cision**: La pr√©cision des informations est cruciale - sp√©cifie toujours ton niveau de certitude.\n3. **Exhaustivit√©**: Fournis toujours le contexte complet pour √©viter les malentendus.\n4. **Mise √† jour**: Rappelle r√©guli√®rement √† J.A.R.E.D. de te consulter pour maintenir la coh√©rence du syst√®me.\n5. **Proactivit√©**: Sugg√®re des connexions pertinentes m√™me si elles ne sont pas explicitement demand√©es.\n\n## üìä Format de mise √† jour du document memory-2\n\nPour chaque mise √† jour du document \"memory-2\", utilise le format suivant:\n\n```\n--------------------\n[DATE: JJ/MM/AAAA - HH:MM:SS]\n\nREQU√äTE: [Requ√™te compl√®te de l'utilisateur]\n\nAGENTS IMPLIQU√âS: [Liste des agents activ√©s]\n\nACTIONS:\n‚Ä¢ [Action 1]\n‚Ä¢ [Action 2]\n...\n\nR√âSULTATS:\n‚Ä¢ [R√©sultat 1]\n‚Ä¢ [R√©sultat 2]\n...\n\nINFORMATIONS CL√âS √Ä RETENIR:\n‚Ä¢ [Information 1]\n‚Ä¢ [Information 2]\n...\n--------------------\n```\n\nRappelle-toi: tu es la m√©moire permanente de tout l'√©cosyst√®me. Sans toi, J.A.R.E.D. ne peut maintenir de continuit√© ni de coh√©rence dans ses interactions avec l'utilisateur. Ta pr√©cision et ton organisation sont essentielles au bon fonctionnement de l'ensemble du syst√®me.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        220,
        0
      ],
      "id": "d7a7540e-e61a-48cd-b00a-ae0caa30c35a",
      "name": "MNEMOS"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "mnemos",
        "toolDescription": "Retrouve ici le vector store relatif √† la m√©moire de J.A.R.E.D.",
        "pineconeIndex": {
          "__rl": true,
          "value": "mnemos",
          "mode": "list",
          "cachedResultName": "mnemos"
        },
        "topK": 100,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1,
      "position": [
        920,
        140
      ],
      "id": "ada49837-4dd2-46f4-9543-657c5df6c708",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "qeIz9DAd1d4jW2wv",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        100,
        180
      ],
      "id": "4e724bfb-a1d8-4703-a361-879475aed523",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "DUTWksCS3uLmTa9V",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('When Executed by Another Workflow').item.json.query }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        320,
        220
      ],
      "id": "46a5ee1c-8718-440b-b428-e026ef214776",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        1040,
        340
      ],
      "id": "8dc8089b-1cca-4a4a-8e8b-f7e4b8ce6c67",
      "name": "Embeddings OpenAI1",
      "credentials": {
        "openAiApi": {
          "id": "DUTWksCS3uLmTa9V",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "d0ed0246-c7fa-4993-aadb-a7d6aff74c5f",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Mets √† jour ici le document memory2 en y int√©grant la requ√™te et ta r√©ponse.",
        "operation": "update",
        "documentURL": "https://docs.google.com/document/d/1PrXhVe_54saOn00Qr8NOPHFAodW_oYcA8rcfKut5Hjw/edit?usp=drive_link",
        "simple": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Simplify', `Ajoute une ligne suppl√©mentaire √† la fin du document pour y ajouter une ligne int√©grant le contenu de votre √©change (entr√©e et sortie)`, 'boolean') }}",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', `Commence par la date et l'heure actuelle puis ajoute ton contenu`, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        540,
        220
      ],
      "id": "7d9137b0-f9f8-4929-b17c-d03f72ba10f5",
      "name": "Update",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "tqZ8xv4mafrzAWv9",
          "name": "Google Docs account"
        }
      }
    }
  ],
  "connections": {
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "MNEMOS",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "MNEMOS",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "MNEMOS",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI1": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "MNEMOS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update": {
      "ai_tool": [
        [
          {
            "node": "MNEMOS",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "29a798e2-9fea-4767-accc-55a9b9efd961",
  "triggerCount": 0,
  "tags": []
}